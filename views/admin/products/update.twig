{% extends 'admin.twig' %}

{% set title = 'Products' %}

{% block content %}

<div class="my-3">
  <a href="{{ 'admin/products' | url }}" class="btn waves-effect waves-light">
    Back
  </a>
</div>

<h4>Update Product</h4>

<form id="UpdateProductForm" method="post">
  <input type="hidden" name="UpdateProductForm" value="ok">
  <input type="hidden" name="id" value="{{ product.id }}">
  
  <div class="row">
    <div class="col s12">
      <div class="input-field col s12 l6">
        <input type="text" id="InputName" name="n" value="{{ product.name }}" class="validate" required >
        <label for="InputName">Name</label>
      </div>

      <div class="input-field col s12 l6">
        <select id="InputBrand" name="b" required="required">
          <option value="" disabled>Choose a Brand</option>
          {% for brand in brands %}
            {% if brand.id == product.brand_id %}
              <option value="{{ brand.id }}" selected>{{ brand.description }}</option>
            {% else %}
              <option value="{{ brand.id }}">{{ brand.description }}</option>
            {% endif %}
          {% endfor %}
        </select>
        <label>Brand</label>
      </div>

      <div class="input-field col s12 l6">
        <select id="InputCategory" name="c" required="required">
          <option value="" disabled>Choose a Category</option>
          {% for category in categories %}
            {% if category.id == product.category_id %}
              <option value="{{ category.id }}" selected>{{ category.description }}</option>
            {% else %}
              <option value="{{ category.id }}">{{ category.description }}</option>
            {% endif %}
          {% endfor %}
        </select>
        <label>Category</label>
      </div>

      <div class="input-field col s12 l6">
        <select id="InputSubcategory" name="sc" required="required">
          {% for subcategory in subcategoriesProduct %}
            {% if subcategory.id == product.subcategory_id %}
              <option value="{{ subcategory.id }}" selected>{{ subcategory.description }}</option>
            {% else %}
              <option value="{{ subcategory.id }}">{{ subcategory.description }}</option>
            {% endif %}
          {% endfor %}
        </select>
        <label>Subcategory</label>
      </div>

      <div class="input-field col s12 l6">
        <select id="InputStyle" name="s" required="required">
          <option value="" disabled="disabled" selected="selected">Choose a Style</option>
          {% for style in styles %}
            {% if style.id == product.style_id %}
              <option value="{{ style.id }}" selected>{{ style.description }}</option>
            {% else %}
              <option value="{{ style.id }}">{{ style.description }}</option>
            {% endif %}
          {% endfor %}
        </select>
        <label>Style</label>
      </div>

      <div class="input-field col s12 l6">
        <select id="InputColor" name="cl" required="required" class="validate">
          <option value="" disabled="disabled" selected="selected">Choose a Color</option>
          {% for color in colors %}
          {% if color.id == product.color_id %}
              <option value="{{ color.id }}" selected>{{ color.description }}</option>
            {% else %}
              <option value="{{ color.id }}">{{ color.description }}</option>
            {% endif %}
          {% endfor %}
        </select>
        <label>Color</label>
      </div>

      <div class="input-field col s12">
        <input type="text" id="InputImage" name="i" value="{{ product.image }}" class="validate" required>
        <label for="InputImage">Image</label>
      </div>

    </div>
  </div>
  {% if errors %}
    {% include 'partials/errors.twig' %}
  {% endif %}
  <button id="SubmitFormButton" type="submit" class="btn waves-effect waves-light">Update</button>
</form>

{% endblock %}

{% block script %}
{% include 'admin/products/script.twig' %}
{% include 'partials/toastSuccess.twig' %}
{% endblock %}